{% extends 'base.html' %}

{% block title %}Reservation Entry - Smart Hotel{% endblock %}

{% block head %}
<style>
.reservation-page {
    max-width: 600px;
    margin: 0 auto;
    animation: fadeInUp 0.5s ease-out;
}
.reservation-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border);
    animation: slideUp 0.5s ease-out;
}
@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.reservation-header .icon-box {
    flex-shrink: 0;
    animation: popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s forwards;
    opacity: 0;
}
@keyframes popIn {
    0% { opacity: 0; transform: scale(0.8); }
    60% { transform: scale(1.05); }
    100% { opacity: 1; transform: scale(1); }
}
.reservation-header h1 {
    margin-bottom: 0.25rem;
    font-size: 1.75rem;
    font-weight: 700;
}
.reservation-header p {
    margin: 0;
    color: var(--text-muted);
}
.reservation-header strong {
    color: var(--brand);
}
.input-icon-wrapper {
    position: relative;
}
.input-icon-wrapper .form-control {
    padding-left: 3rem;
    transition: all 0.3s ease;
}
.input-icon-wrapper .form-control:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 4px rgba(14,165,233,0.15);
}
.input-icon-wrapper .input-icon {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    pointer-events: none;
    transition: all 0.3s ease;
}
.input-icon-wrapper .form-control:focus + .input-icon,
.input-icon-wrapper:focus-within .input-icon {
    color: var(--accent);
}
/* Form field entrance animations */
.mb-4:has(.form-control) {
    animation: fadeInUp 0.4s ease-out 0.1s forwards;
    opacity: 0;
}
.row.g-3 {
    animation: fadeInUp 0.4s ease-out 0.2s forwards;
    opacity: 0;
}
form .btn {
    animation: fadeInUp 0.4s ease-out 0.3s forwards;
    opacity: 0;
}
</style>
{% endblock %}

{% block content %}
<div class="reservation-page">
	<div class="card p-4 p-md-5">
		<div class="reservation-header">
			<div class="icon-box icon-brand">
				<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 16 16"><path d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5V6a.5.5 0 0 1-.5.5 1.5 1.5 0 0 0 0 3 .5.5 0 0 1 .5.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5V10a.5.5 0 0 1 .5-.5 1.5 1.5 0 1 0 0-3A.5.5 0 0 1 0 6V4.5zM1.5 4a.5.5 0 0 0-.5.5v1.05a2.5 2.5 0 0 1 0 4.9v1.05a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-1.05a2.5 2.5 0 0 1 0-4.9V4.5a.5.5 0 0 0-.5-.5h-13z"/></svg>
			</div>
			<div>
				<h1 data-i18n="reservation_for">New Reservation</h1>
				<p>Guest: <strong>{{ guest.first_name }} {{ guest.last_name }}</strong></p>
			</div>
		</div>
		
		<form method="post">
			{% csrf_token %}
			<div class="mb-4">
				<label class="form-label fw-bold" data-i18n="reservation_number_label">Reservation Number</label>
				<div class="input-icon-wrapper">
					<svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5V6a.5.5 0 0 1-.5.5 1.5 1.5 0 0 0 0 3 .5.5 0 0 1 .5.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5V10a.5.5 0 0 1 .5-.5 1.5 1.5 0 1 0 0-3A.5.5 0 0 1 0 6V4.5z"/></svg>
					<input class="form-control form-control-lg" name="reservation_number" value="{{ request.GET.reservation_number|default:'' }}" required placeholder="Enter your reservation number">
				</div>
			</div>
			<div class="row g-3 mb-4">
				<div class="col-6">
					<label class="form-label fw-bold" data-i18n="number_of_people">Number of People</label>
					<input class="form-control form-control-lg" type="number" name="people_count" value="1" min="1">
				</div>
				<div class="col-6">
					<label class="form-label fw-bold" data-i18n="number_of_rooms">Number of Rooms</label>
					<input class="form-control form-control-lg" type="number" name="room_count" value="1" min="1">
				</div>
			</div>
			<!-- hidden checkin/checkout: preserved but not editable in this preview -->
			<input type="hidden" name="checkin" value="{{ request.GET.checkin|default:None }}">
			<input type="hidden" name="checkout" value="{{ request.GET.checkout|default:None }}">
			
			<button class="btn btn-primary btn-lg w-100" data-i18n="save_reservation">
				Save Reservation
				<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" style="margin-left: 8px;"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
			</button>
		</form>
	</div>
</div>
{% endblock %}
